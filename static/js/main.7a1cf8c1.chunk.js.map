{"version":3,"sources":["index.ts"],"names":["a","stage","createStage","signal","stateTime","stateTime1","touchSignal","canvas","getCanvas","viewport","createViewport","gl","getContext","inputHandler","createViewportAwareInputHandler","camera","getCamera","batch","createBatch","whiteTex","createWhiteTexture","loadTexture","bgImg","loadAtlas","mainAtlas","firstRegion","findRegion","secondRegion","runRegions","findRegions","createAnimation","clearColor","createGameLoop","delta","clear","COLOR_BUFFER_BIT","setProjection","combined","begin","draw","isTouched","setColor","end","init"],"mappings":"iKAeU,uCAAG,4DAAAA,EAAA,6DAELC,EAAQC,cACVC,EAAS,EACTC,EAAY,EACZC,EAAa,EACbC,EAAc,EACZC,EAASN,EAAMO,YACfC,EAAWC,YAAeH,EAAQ,GAAI,KACtCI,EAAKF,EAASG,aACdC,EAAeC,YAAgCP,EAAQE,GACvDM,EAASN,EAASO,YAClBC,EAAQC,YAAYP,GACpBQ,EAAWC,YAAmBT,GAbzB,UAqBSU,YAAYV,EAAI,YArBzB,eAqBLW,EArBK,iBAsBYD,YAAYV,EAAI,uBAtB5B,gCAwBaY,YAAUZ,EAAI,wBAAyB,IAxBpD,QAwBLa,EAxBK,OAyBLC,EAAcD,EAAUE,WAAW,OAAQ,GAC3CC,EAAeH,EAAUE,WAAW,OAAQ,GAE5CE,EAAaJ,EAAUK,YAAY,QACpBC,YAAgB,GAAKF,GAQ1CjB,EAAGoB,WAAW,EAAG,GAAK,GAAK,GAC3BC,aAAe,SAAAC,GAkEbtB,EAAGuB,MAAMvB,EAAGwB,kBACZlB,EAAMmB,cAAcrB,EAAOsB,UAC3BpB,EAAMqB,QACNrB,EAAMsB,KAAKpB,EAAU,EAAG,EAAG,GAAI,KAC/BF,EAAMsB,KAAKjB,EAAO,EAAG,EAAG,GAAI,KAsBxBT,EAAa2B,cACflC,EAAc,GAGZF,EAAY,KAAuB,GAAfE,EACtBF,GAAa,EAAI6B,EACR7B,EAAY,MACrBA,EAAY,IACZD,EAAS,GAEG,GAAVA,IACEE,EAAa,EACfA,GAAc,EAAI4B,EAElB5B,EAAa,GAIH,GAAVF,EACFwB,EAAaY,KAAKtB,EAAO,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAGb,EAAW,GAE5DqB,EAAYc,KAAKtB,EAAO,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAGZ,EAAY,GAmE9DY,EAAMwB,SAAS,GAAK,GAAK,GAAK,GAE9BxB,EAAMwB,SAAS,EAAG,EAAG,EAAG,GAExBxB,EAAMyB,SA9NG,4CAAH,qDAkOVC,I","file":"static/js/main.7a1cf8c1.chunk.js","sourcesContent":["import './index.css';\nimport {\n  createAnimation,\n  createBatch,\n  createGameLoop,\n  createWhiteTexture,\n  TextureRegion,\n  loadTexture,\n  createStage,\n  createViewport,\n  createViewportAwareInputHandler,\n  PlayMode,\n  loadAtlas\n} from 'gdxjs';\n\nconst init = async () => {\n  // image.image();\n  const stage = createStage();\n  let signal = 0;\n  let stateTime = 1;\n  let stateTime1 = 0;\n  let touchSignal = 0;\n  const canvas = stage.getCanvas();\n  const viewport = createViewport(canvas, 50, 100);\n  const gl = viewport.getContext();\n  const inputHandler = createViewportAwareInputHandler(canvas, viewport);\n  const camera = viewport.getCamera();\n  const batch = createBatch(gl);\n  const whiteTex = createWhiteTexture(gl);\n\n  // let bee = new Bee();\n  // let wire = new Wire();\n  // let pipe = new Pipe();\n  // let ground = new Ground();\n  // let bike = new Bike();\n  // let birdObj = new Bird();\n  const bgImg = await loadTexture(gl, './bg.png');\n  const cardImgs = await loadTexture(gl, './playing-cards.png');\n  // const cardImgs  = await loadTexture(gl,)\n  const mainAtlas = await loadAtlas(gl, './playing-cards.atlas', {});\n  const firstRegion = mainAtlas.findRegion('item', 6);\n  const secondRegion = mainAtlas.findRegion('item', 4);\n\n  const runRegions = mainAtlas.findRegions('item');\n  const runAnimation = createAnimation(0.1, runRegions);\n\n  // const cardImg = TextureRegion.splitTexture(cardImgs, 3, 3);\n\n  // const runAnimation = createAnimation(0.1, cardImg);\n\n  // const runAnimation1 = createAnimation(50, birdImg);\n\n  gl.clearColor(1, 0.4, 0.3, 1);\n  createGameLoop(delta => {\n    // birdObj.BirdDown(delta, showArray('bird'));\n    // birdObj.touchBird(\n    //   inputHandler,\n    //   delta,\n    //   showArray('bird'),\n    //   showArray('pipes')\n    // );\n    // resetStop(inputHandler);\n\n    // wire.pushWire(\n    //   delta,\n    //   showIndex('LastIndexSky'),\n    //   showArray('skys'),\n    //   showIndex('indexSky'),\n    //   0\n    // );\n    // wire.pushWire(\n    //   delta,\n    //   showIndex('LastIndexCloud'),\n    //   showArray('clouds'),\n    //   showIndex('indexCloud'),\n    //   60\n    // );\n    // wire.pushWire(\n    //   delta,\n    //   showIndex('LastIndexHouse'),\n    //   showArray('houses'),\n    //   showIndex('indexHouse'),\n    //   65\n    // );\n    // wire.pushWire(\n    //   delta,\n    //   showIndex('LastIndexTree'),\n    //   showArray('trees'),\n    //   showIndex('indexTree'),\n    //   75\n    // );\n    // wire.pushWire(\n    //   delta,\n    //   showIndex('LastIndexWire'),\n    //   showArray('wires'),\n    //   showIndex('indexWire'),\n    //   65\n    // );\n\n    // bee.pushBee(delta, 80, 50, 30, showArray('bees01'));\n    // bee.pushBee(delta, 50, 60, 20, showArray('bees02'));\n\n    // bike.pushBike(delta, 25, showArray('bikes01'));\n    // bike.pushBike(delta, 45, showArray('bikes02'));\n\n    // pipe.pushPipe(\n    //   showArray('bird'),\n    //   delta,\n    //   showArray('pipes'),\n    //   showIndex('indexPipe')\n    // );\n    // ground.pushGround(\n    //   delta,\n    //   showIndex('LastIndexGround'),\n    //   showArray('grounds'),\n    //   showIndex('indexGround'),\n    //   90\n    // );\n\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    batch.setProjection(camera.combined);\n    batch.begin();\n    batch.draw(whiteTex, 0, 0, 50, 100);\n    batch.draw(bgImg, 0, 0, 50, 100);\n    // batch.drawRegion(firstRegion, 10, 10, 30, 30);\n\n    // runAnimation\n    //   .getKeyFrame(stateTime, PlayMode.LOOP)\n    //   .draw(batch, 0, 0, 30, 30);\n    // runAnimation\n    //   .getKeyFrame(stateTime + 1, PlayMode.LOOP)\n    //   .draw(batch, 30, 30, 20, 20);\n    // runAnimation\n    //   .getKeyFrame(stateTime + 2, PlayMode.LOOP)\n    //   .draw(batch, 0, 30, 20, 20);\n    // runAnimation\n    //   .getKeyFrame(stateTime + 0.5, PlayMode.LOOP)\n    //   .draw(batch, 0, 50, 20, 20);\n    // runAnimation\n    //   .getKeyFrame(stateTime + 1.5, PlayMode.LOOP)\n    //   .draw(batch, 0, 70, 20, 20);\n    // runAnimation\n    //   .getKeyFrame(stateTime + 3, PlayMode.LOOP)\n\n    //   .draw(batch, 20, 70, 20, 20);\n    if (inputHandler.isTouched()) {\n      touchSignal = 1;\n    }\n\n    if (stateTime > 0.02 && touchSignal == 1) {\n      stateTime -= 5 * delta;\n    } else if (stateTime < 0.02) {\n      stateTime = 0.01;\n      signal = 1;\n    }\n    if (signal == 1) {\n      if (stateTime1 < 1) {\n        stateTime1 += 5 * delta;\n      } else {\n        stateTime1 = 1;\n      }\n    }\n    // firstRegion.draw(batch, 0, 0, 10, 10);\n    if (signal == 0) {\n      secondRegion.draw(batch, 10, 0, 10, 10, 5, 5, 0, stateTime, 1);\n    } else {\n      firstRegion.draw(batch, 10, 0, 10, 10, 5, 5, 0, stateTime1, 1);\n    }\n\n    // wire.drawWire(image.imgSky, batch, showArray('skys'), 25, 75);\n    // wire.drawWire(image.cloudImg, batch, showArray('clouds'), 25, 25);\n    // wire.drawWire(image.houseImg, batch, showArray('houses'), 25, 25);\n    // wire.drawWire(image.wireImg, batch, showArray('wires'), 25, 25);\n    // bee.drawBee(\n    //   image.bee1Img,\n    //   batch,\n    //   showArray('bees01'),\n    //   showIndex('indexBee'),\n    //   20,\n    //   6.5\n    // );\n    // bee.drawBee(\n    //   image.bee2Img,\n    //   batch,\n    //   showArray('bees02'),\n    //   showIndex('indexBee2'),\n    //   9,\n    //   7.7\n    // );\n\n    // wire.drawWire(image.treeImg, batch, showArray('trees'), 25, 15);\n\n    // bike.drawBike(\n    //   image.bikeImg,\n    //   batch,\n    //   showArray('bikes01'),\n    //   showIndex('indexBike1'),\n    //   40,\n    //   8,\n    //   0.3\n    // );\n    // bike.drawBike(\n    //   image.bike2Img,\n    //   batch,\n    //   showArray('bikes02'),\n    //   showIndex('indexBike2'),\n    //   40,\n    //   8,\n    //   0.5\n    // );\n    // pipe.drawPipe(\n    //   image.pipeImg,\n    //   image.signImg,\n    //   image.pipeDownImg,\n    //   showArray('bird'),\n    //   batch,\n    //   showArray('pipes')\n    // );\n    // ground.drawGround(image.groundsImg, batch, showArray('grounds'));\n\n    // birdObj.rotateRender(\n    //   delta,\n    //   runAnimation,\n    //   runAnimation1,\n    //   batch,\n    //   showArray('bird')\n    // );\n\n    // checkStop();\n    // stateTime += delta;\n    // runAnimation\n    //   .getKeyFrame(stateTime, PlayMode.LOOP)\n    //   .draw(batch, bird.x, bird.y, 5, 4, 2.5, 2, (rotateAngle * Math.PI) / 4);\n    batch.setColor(0.4, 0.4, 0.4, 1);\n\n    batch.setColor(1, 1, 1, 1);\n\n    batch.end();\n  });\n};\n\ninit();\n"],"sourceRoot":""}